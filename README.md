
<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_lmarena?name=astrbot_plugin_lmarena&theme=minecraft&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_lmarena

_âœ¨ [astrbot](https://github.com/AstrBotDevs/AstrBot) LMArenaæ’ä»¶ âœ¨_  

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.4%2B-orange.svg)](https://github.com/Soulter/AstrBot)
[![GitHub](https://img.shields.io/badge/ä½œè€…-Zhalslar-blue)](https://github.com/Zhalslar)

</div>

## ğŸ¤ ä»‹ç»

å¯¹æ¥lmarenaè°ƒç”¨nano_bananaç­‰æ¨¡å‹è¿›è¡Œç”Ÿå›¾ï¼Œå¦‚æ‰‹åŠåŒ–

## ğŸ“¦ å®‰è£…
  
### 1.å®‰è£…æœ¬æ’ä»¶

- ç›´æ¥åœ¨astrbotçš„æ’ä»¶å¸‚åœºæœç´¢astrbot_plugin_lmarenaï¼Œç‚¹å‡»å®‰è£…

### 2.å®‰è£…æ²¹çŒ´è„šæœ¬

- **å®‰è£…æ²¹çŒ´è„šæœ¬ç®¡ç†å™¨**
    ä¸ºä½ çš„æµè§ˆå™¨å®‰è£… [Tampermonkey](https://www.tampermonkey.net/) æ‰©å±•ã€‚

- **å®‰è£…æœ¬é¡¹ç›®æ²¹çŒ´è„šæœ¬**
    1. æ‰“å¼€ Tampermonkey æ‰©å±•çš„ç®¡ç†é¢æ¿ã€‚
    2. ç‚¹å‡»â€œæ·»åŠ æ–°è„šæœ¬â€æˆ–â€œCreate a new scriptâ€ã€‚
    3. æ‰“å¼€ [`LMArenaApiBridge.js`](https://github.com/Zhalslar/astrbot_plugin_lmarena/blob/main/LMArenaApiBridge.js) æ–‡ä»¶ï¼Œå°†æ–‡ä»¶é‡Œçš„æ‰€æœ‰ä»£ç å¤åˆ¶å¹¶ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­ã€‚
    4. ç¡®ä¿æœ‰æƒé™è¿è¡Œï¼ˆè°·æ­Œæµè§ˆå™¨ç¤ºä¾‹ï¼‰ï¼šæµè§ˆå™¨è®¾ç½® -> ç®¡ç†æ‹“å±• -> ç¯¡æ”¹çŒ´ -> è¯¦æƒ… -> å…è®¸è¿è¡Œç”¨æˆ·è„šæœ¬ï¼ˆæ‰“å¼€ï¼‰ã€‚

### 3.æ’ä»¶ä¸æ²¹çŒ´å¯¹æ¥

- å¼€å¯/é‡è½½æ’ä»¶æ—¶ï¼Œæ—¥å¿—æ˜¾ç¤ºï¼š[bridge.server:74]: WebSocket ç«¯ç‚¹: ws://127.0.0.1:5102/ws
- å¼€å¯è„šæœ¬åˆ·æ–°[LMArena.ai](https://lmarena.ai/)é¡µé¢æ—¶ï¼Œæ—¥å¿—æ˜¾ç¤ºï¼šâœ… æ²¹çŒ´è„šæœ¬å·²æˆåŠŸè¿æ¥ WebSocketã€‚å¹¶ä¸”[LMArena.ai](https://lmarena.ai/)é¡µé¢é¡µé¢æ ‡é¢˜ä¼šä»¥ âœ… å¼€å¤´ã€‚

### 3.æ•è·ä¼šè¯ID

- åœ¨[ç«æŠ€åœº](<https://lmarena.ai>)æ‰¾åˆ°ä½ æƒ³è¦çš„æ¨¡å‹(æ¯”å¦‚nano_banana)å¹¶å¯¹è¯ä¸€æ¬¡ã€‚
- Direct_chatæ¨¡å¼å¯»æ‰¾nano_bananaç¤ºä¾‹ï¼šç‚¹èŠå¤©æ å·¦ä¸‹è§’çš„å›¾ç‰‡å›¾æ ‡ï¼Œæ­¤æ—¶å°±å¯ä»¥é¡µé¢ä¸Šæ–¹çœ‹è§æ¨¡å‹åˆ—è¡¨é‡Œæœ‰nano_bananaå¯é€‰äº†ã€‚
- Battleæ¨¡å¼å¯»æ‰¾nano_bananaç¤ºä¾‹ï¼šbattleæ¨¡å¼ä¸‹ä¸Šä¼ ä¸€å¼ å›¾ï¼Œè¾“å…¥æ‰‹åŠåŒ–çš„æç¤ºè¯è¿›è¡Œç”Ÿå›¾ï¼Œæ•ˆæœåƒä¸‹é¢ç¤ºä¾‹å›¾çš„å°±æ˜¯nano_bananaäº†ï¼Œæç¤ºè¯ï¼šï¼ˆUse the nano-banana model to create a 1/7 scale commercialized figure of thecharacter in the illustration, in a realistic styie and environment.Place the figure on a computer desk, using a circular transparent acrylic base without any text.On the computer screen, display the ZBrush modeling process of the figure.Next to the computer screen, a transparent board with a wooden base on which the original artwork is printed.ï¼‰ã€‚
- åœ¨ Battle æ¨¡å¼ä¸‹ï¼Œè¦è¿›å…¥æ’ä»¶é…ç½®é¢æ¿é€‰æ‹©æ›´æ–°çš„ç›®æ ‡ï¼ˆå·¦ä¾§ä¸ºAï¼Œå³ä¾§ä¸ºBï¼‰ï¼Œæ”¹å˜ç›®æ ‡æ—¶è¦é‡è½½æ’ä»¶
- ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œç»™botå‘é€å‘½ä»¤ `lmæ•è·`æˆ–`lmc`æ¿€æ´»æ²¹çŒ´è„šæœ¬çš„æ•è·æ¨¡å¼ï¼Œç„¶åç‚¹æ¨¡å‹å³ä¸Šè§’çš„é‡è¯•æŒ‰é’®ï¼Œåˆ·æ–°ç›®æ ‡æ¨¡å‹ä»è€Œæ•è·ä¼šè¯IDï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†

## âŒ¨ï¸ ä½¿ç”¨è¯´æ˜

### é…ç½®

| é…ç½®é¡¹       | è¯´æ˜                                                                 |
|:-------------|:---------------------------------------------------------------------|
| server       | æ’ä»¶å†…éƒ¨æœåŠ¡å™¨é…ç½®ï¼Œç”¨äºè®¾ç½®æœåŠ¡å™¨çš„ä¸»æœºã€ç«¯å£å’ŒAPI Keyç­‰ä¿¡æ¯ã€‚       |
| host         | æœåŠ¡å™¨ä¸»æœºåœ°å€ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€ `127.0.0.1`ã€‚                         |
| port         | æœåŠ¡å™¨ç«¯å£å·ï¼Œé»˜è®¤ä¸º `5102`ã€‚                                        |
| api_key      | æœåŠ¡å™¨API Keyï¼Œç”¨äºè®¿é—®æœåŠ¡å™¨æ—¶çš„èº«ä»½éªŒè¯ï¼Œä¸å¡«åˆ™æ— éœ€éªŒè¯ç›´æ¥è®¿é—®ã€‚   |
| base_url     | Lmarenaè¯·æ±‚åœ°å€ï¼Œç”¨äºæŒ‡å®šè¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€ã€‚             |
| prefix       | æ˜¯å¦å¯ç”¨è§¦å‘å‰ç¼€ï¼Œå¯ç”¨åéœ€è¦å‰ç¼€æˆ–@botæ¥è§¦å‘å‘½ä»¤ã€‚                    |
| retries      | ç”Ÿå›¾å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œæœ€åä¸€æ¬¡é‡è¯•å¤±è´¥æ—¶è¿”å›é”™è¯¯ã€‚                        |
| prompt       | ç”Ÿå›¾è§¦å‘è¯ä¸æç¤ºè¯ï¼Œå…·ä½“é…ç½®åœ¨ `data/plugins/astrbot_plugin_lmarena/prompt.py` æ–‡ä»¶ä¸­ã€‚ |
| save_image   | æ˜¯å¦ä¿å­˜ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä¿å­˜ç›®å½•ä¸º `data/plugin_data/astrbot_plugin_lmarena`ã€‚ |
| battle_target| åœ¨Battleæ¨¡å¼ä¸‹ï¼Œè¦æ›´æ–°çš„ç›®æ ‡ï¼Œå¯é€‰ `A` æˆ– `B`ï¼Œåˆ‡æ¢æ—¶éœ€é‡è½½æ’ä»¶ã€‚      |

### å‘½ä»¤è¡¨

|     å‘½ä»¤      |                    è¯´æ˜                    |
|:-------------:|:-----------------------------------------------:|
| `(å¼•ç”¨å›¾ç‰‡)/ä¸€æ®µæè¿°è¯`  | å°†å›¾ç‰‡å¼•ç”¨çš„å›¾ç‰‡æŒ‰ç…§æè¿°è¯è¿›è¡Œå¤„ç†  |
| `lmæ•è·` or `lmc`  | å‘é€å‘½ä»¤æ¿€æ´»æ²¹çŒ´è„šæœ¬çš„æ•è·æ¨¡å¼, ç„¶åè¯·åœ¨æµè§ˆå™¨ä¸­åˆ·æ–°ç›®æ ‡æ¨¡å‹ä»è€Œæ•è·ä¼šè¯ID    |
| `lmåˆ·æ–°` or `lmr` | åˆ·æ–°lmarenaç½‘é¡µ    |
| `lmå¸®åŠ©` or `lmh` | æŸ¥çœ‹æ‰€æœ‰é¢„è®¾å¥½çš„æè¿°è¯ï¼Œå¦‚åŠåŒ–1ã€æ‰‹åŠåŒ–2ã€æ‰‹åŠåŒ–3ã€æ‰‹åŠåŒ–4ã€æ‰‹åŠåŒ–5ã€æ‰‹åŠåŒ–6ã€Qç‰ˆåŒ–ã€cosåŒ–ã€cosè‡ªæ‹ã€ç—›å±‹åŒ–ã€ç—›å±‹åŒ–2ã€ç—›è½¦åŒ–ã€å­¤ç‹¬çš„æˆ‘ã€ç¬¬ä¸€äººç§°ã€ç¬¬ä¸‰è§†è§’ã€é¬¼å›¾ã€è´´çº¸åŒ–ã€ç‰è¶³ã€fumoåŒ–     |

### ç¤ºä¾‹å›¾

![d5f0d1d36a439991a87eaba0db70950e](https://github.com/user-attachments/assets/d6dc6404-71e1-4b74-94c5-026bd05c7309)

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

- ğŸŒŸ Star è¿™ä¸ªé¡¹ç›®ï¼ï¼ˆç‚¹å³ä¸Šè§’çš„æ˜Ÿæ˜Ÿï¼Œæ„Ÿè°¢æ”¯æŒï¼ï¼‰
- ğŸ› æäº¤ Issue æŠ¥å‘Šé—®é¢˜
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ”§ æäº¤ Pull Request æ”¹è¿›ä»£ç 

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- æƒ³ç¬¬ä¸€æ—¶é—´å¾—åˆ°åé¦ˆçš„å¯ä»¥æ¥ä½œè€…çš„æ’ä»¶åé¦ˆç¾¤ï¼ˆQQç¾¤ï¼‰ï¼š460973561ï¼ˆä¸ç‚¹starä¸ç»™è¿›ï¼‰

## ğŸ¤ é¸£è°¢

- [LMArena.ai](https://lmarena.ai/) - æ¨¡å‹ç«æŠ€åœº, ç½‘ç«™ä¸Šæä¾›çš„æµ·é‡å…ˆè¿›æµ‹è¯•å¤§è¯­è¨€æ¨¡å‹
- [LMArenaBridge](https://github.com/Lianues/LMArenaBridge)  - AIæ¨¡å‹ç«æŠ€åœºAPIä»£ç†å™¨ï¼Œ å……å½“ä¸€åº§æ¡¥æ¢ï¼Œè®©ä½ èƒ½é€šè¿‡ä»»ä½•å…¼å®¹ OpenAI API çš„åº”ç”¨ç¨‹åºæ¥ä½¿ç”¨ LMArenaï¼Œæ¬¢è¿å¤§å®¶å‰å»[LMArenaBridge](https://github.com/Lianues/LMArenaBridge)ç‚¹ä¸ªstarï¼
