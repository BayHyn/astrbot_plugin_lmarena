
<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_lmarena?name=astrbot_plugin_lmarena&theme=minecraft&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_lmarena

_âœ¨ [astrbot](https://github.com/AstrBotDevs/AstrBot) LMArenaæ’ä»¶ âœ¨_  

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.4%2B-orange.svg)](https://github.com/Soulter/AstrBot)
[![GitHub](https://img.shields.io/badge/ä½œè€…-Zhalslar-blue)](https://github.com/Zhalslar)

</div>

## ğŸ¤ ä»‹ç»

å¯¹æ¥lmarenaè°ƒç”¨nano_bananaç­‰æ¨¡å‹è¿›è¡Œç”Ÿå›¾ï¼Œå¦‚æ‰‹åŠåŒ–

## ğŸ“¦ å®‰è£…
  
### 1.å®‰è£…æœ¬æ’ä»¶

- ç›´æ¥åœ¨astrbotçš„æ’ä»¶å¸‚åœºæœç´¢astrbot_plugin_lmarenaï¼Œç‚¹å‡»å®‰è£…

### 2.å®‰è£…æ²¹çŒ´è„šæœ¬

- **å®‰è£…æ²¹çŒ´è„šæœ¬ç®¡ç†å™¨**
    ä¸ºä½ çš„æµè§ˆå™¨å®‰è£… [Tampermonkey](https://www.tampermonkey.net/) æ‰©å±•ã€‚

- **å®‰è£…æœ¬é¡¹ç›®æ²¹çŒ´è„šæœ¬**
    1. æ‰“å¼€ Tampermonkey æ‰©å±•çš„ç®¡ç†é¢æ¿ã€‚
    2. ç‚¹å‡»â€œæ·»åŠ æ–°è„šæœ¬â€æˆ–â€œCreate a new scriptâ€ã€‚
    3. æ‰“å¼€ [`LMArenaApiBridge.js`](https://github.com/Zhalslar/astrbot_plugin_lmarena/blob/main/LMArenaApiBridge.js) æ–‡ä»¶ï¼Œå°†æ–‡ä»¶é‡Œçš„æ‰€æœ‰ä»£ç å¤åˆ¶å¹¶ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­ã€‚
    4. ä¿å­˜è„šæœ¬ã€‚

### 3.æ•è·ä¼šè¯ID

- åœ¨[ç«æŠ€åœº](<https://lmarena.ai>)æ‰¾åˆ°ä½ æƒ³è¦çš„æ¨¡å‹(æ¯”å¦‚nano_banana)å¹¶å¯¹è¯ä¸€æ¬¡ã€‚
- Direct_chatæ¨¡å¼å¯»æ‰¾nano_bananaç¤ºä¾‹ï¼šç‚¹èŠå¤©æ å·¦ä¸‹è§’çš„å›¾ç‰‡å›¾æ ‡ï¼Œæ­¤æ—¶å°±å¯ä»¥é¡µé¢ä¸Šæ–¹çœ‹è§æ¨¡å‹åˆ—è¡¨é‡Œæœ‰nano_bananaå¯é€‰äº†ã€‚
- Battleæ¨¡å¼å¯»æ‰¾nano_bananaç¤ºä¾‹ï¼šbattleæ¨¡å¼ä¸‹ä¸Šä¼ ä¸€å¼ å›¾ï¼Œè¾“å…¥æ‰‹åŠåŒ–çš„æç¤ºè¯è¿›è¡Œç”Ÿå›¾ï¼Œæ•ˆæœåƒä¸‹é¢ç¤ºä¾‹å›¾çš„å°±æ˜¯nano_bananaäº†ï¼Œæç¤ºè¯ï¼šï¼ˆUse the nano-banana model to create a 1/7 scale commercialized figure of thecharacter in the illustration, in a realistic styie and environment.Place the figure on a computer desk, using a circular transparent acrylic base without any text.On the computer screen, display the ZBrush modeling process of the figure.Next to the computer screen, a transparent board with a wooden base on which the original artwork is printed.ï¼‰ã€‚
- è¿›å…¥æ’ä»¶é…ç½®é¢æ¿ï¼Œè®¾ç½®ä½ å½“å‰æ¨¡å‹çš„å¯¹è¯æ¨¡å¼ï¼ˆdirect_chatæˆ–battleæ¨¡ï¼‰ã€åœ¨ Battle æ¨¡å¼ä¸‹ï¼Œè¦æ›´æ–°çš„ç›®æ ‡ï¼ˆå·¦ä¾§ä¸ºAï¼Œå³ä¾§ä¸ºBï¼‰ï¼Œ
- ç»™botå‘é€å‘½ä»¤ `lmæ•è·`æ¿€æ´»æ²¹çŒ´è„šæœ¬çš„æ•è·æ¨¡å¼ï¼Œç„¶åç‚¹æ¨¡å‹å³ä¸Šè§’çš„é‡è¯•æŒ‰é’®ï¼Œåˆ·æ–°ç›®æ ‡æ¨¡å‹ä»è€Œæ•è·ä¼šè¯IDï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†

## âŒ¨ï¸ ä½¿ç”¨è¯´æ˜

### é…ç½®

| é…ç½®é¡¹       | è¯´æ˜                                                                 |
|:-------------|:---------------------------------------------------------------------|
| server       | æ’ä»¶å†…éƒ¨æœåŠ¡å™¨é…ç½®ï¼Œç”¨äºè®¾ç½®æœåŠ¡å™¨çš„ä¸»æœºã€ç«¯å£å’ŒAPI Keyç­‰ä¿¡æ¯ã€‚       |
| host         | æœåŠ¡å™¨ä¸»æœºåœ°å€ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€ `127.0.0.1`ã€‚                         |
| port         | æœåŠ¡å™¨ç«¯å£å·ï¼Œé»˜è®¤ä¸º `5102`ã€‚                                        |
| api_key      | æœåŠ¡å™¨API Keyï¼Œç”¨äºè®¿é—®æœåŠ¡å™¨æ—¶çš„èº«ä»½éªŒè¯ï¼Œä¸å¡«åˆ™æ— éœ€éªŒè¯ç›´æ¥è®¿é—®ã€‚   |
| base_url     | Lmarenaè¯·æ±‚åœ°å€ï¼Œç”¨äºæŒ‡å®šè¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ä¸ºæœ¬æœºåœ°å€ã€‚             |
| prefix       | æ˜¯å¦å¯ç”¨è§¦å‘å‰ç¼€ï¼Œå¯ç”¨åéœ€è¦å‰ç¼€æˆ–@botæ¥è§¦å‘å‘½ä»¤ã€‚                    |
| retries      | ç”Ÿå›¾å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œæœ€åä¸€æ¬¡é‡è¯•å¤±è´¥æ—¶è¿”å›é”™è¯¯ã€‚                        |
| prompt       | ç”Ÿå›¾è§¦å‘è¯ä¸æç¤ºè¯ï¼Œå…·ä½“é…ç½®åœ¨ `data/plugins/astrbot_plugin_lmarena/prompt.py` æ–‡ä»¶ä¸­ã€‚ |
| save_image   | æ˜¯å¦ä¿å­˜ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä¿å­˜ç›®å½•ä¸º `data/plugin_data/astrbot_plugin_lmarena`ã€‚ |
| chat_mode    | å¯¹è¯æ¨¡å¼ï¼Œå¯é€‰ `direct_chat` æˆ– `battle`ï¼Œåˆ‡æ¢æ—¶éœ€é‡è½½æ’ä»¶ã€‚          |
| battle_target| åœ¨Battleæ¨¡å¼ä¸‹ï¼Œè¦æ›´æ–°çš„ç›®æ ‡ï¼Œå¯é€‰ `A` æˆ– `B`ï¼Œåˆ‡æ¢æ—¶éœ€é‡è½½æ’ä»¶ã€‚      |

### å‘½ä»¤è¡¨

|     å‘½ä»¤      |                    è¯´æ˜                    |
|:-------------:|:-----------------------------------------------:|
| (å¼•ç”¨å›¾ç‰‡)/æ‰‹åŠåŒ–  | å°†å›¾ç‰‡è¿›è¡Œæ‰‹åŠåŒ–  |
|  æ‰‹åŠåŒ–@ç¾¤å‹  or æ‰‹åŠåŒ– @QQå· | å°†ç¾¤å‹å¤´åƒæˆ–è€…QQå·ä¸»çš„å¤´åƒè¿›è¡Œæ‰‹åŠåŒ–  |
| (å¼•ç”¨å›¾ç‰‡)/bnn æè¿°è¯ | å°†å›¾ç‰‡æŒ‰ç…§æè¿°è¯è¿›è¡Œå¤„ç†         |
| (è‡ªå®šä¹‰è§¦å‘è¯ï¼Œå¦‚ æ‰‹åŠåŒ–2) | è¯·å‰å¾€data/plugins/astrbot_plugin_lmarena/prompt.pyæ›´æ”¹ï¼Œæ ¼å¼ä¸º è§¦å‘è¯:æç¤ºè¯        |
| lmæ›´æ–° | æ›´æ–°æ¨¡å‹åˆ—è¡¨å¹¶ä¿å­˜åˆ°æœ¬åœ°JSONä¸­   |
| lmæ¨¡å‹ | æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨    |
| lmæ¨¡å‹ <åºå·> | åˆ‡æ¢æ¨¡å‹æ¨¡å‹åˆ—è¡¨ä¸­çš„ç¬¬<åºå·>ä¸ªæ¨¡å‹       |
| lmæ•è· | å‘é€å‘½ä»¤æ¿€æ´»æ²¹çŒ´è„šæœ¬çš„æ•è·æ¨¡å¼, ç„¶åè¯·åœ¨æµè§ˆå™¨ä¸­åˆ·æ–°ç›®æ ‡æ¨¡å‹ä»è€Œæ•è·ä¼šè¯ID    |
| lmåˆ·æ–° | åˆ·æ–°lmarenaç½‘é¡µ    |

### ç¤ºä¾‹å›¾

![d5f0d1d36a439991a87eaba0db70950e](https://github.com/user-attachments/assets/d6dc6404-71e1-4b74-94c5-026bd05c7309)

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

- ğŸŒŸ Star è¿™ä¸ªé¡¹ç›®ï¼ï¼ˆç‚¹å³ä¸Šè§’çš„æ˜Ÿæ˜Ÿï¼Œæ„Ÿè°¢æ”¯æŒï¼ï¼‰
- ğŸ› æäº¤ Issue æŠ¥å‘Šé—®é¢˜
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ”§ æäº¤ Pull Request æ”¹è¿›ä»£ç 

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- æƒ³ç¬¬ä¸€æ—¶é—´å¾—åˆ°åé¦ˆçš„å¯ä»¥æ¥ä½œè€…çš„æ’ä»¶åé¦ˆç¾¤ï¼ˆQQç¾¤ï¼‰ï¼š460973561ï¼ˆä¸ç‚¹starä¸ç»™è¿›ï¼‰
